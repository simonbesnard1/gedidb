CREATE TABLE IF NOT EXISTS public.gedi_granules (

   granule_name VARCHAR(60) PRIMARY KEY,
   version_id VARCHAR(60),
   created_date DATE

);

CREATE TABLE IF NOT EXISTS public.filtered_l2ab_l4ac_shots (
    shot_number BIGINT PRIMARY KEY,
    granule VARCHAR(60),
    version VARCHAR(60),
    beam_type VARCHAR(20),
    beam_name VARCHAR(9),
    delta_time FLOAT,
    absolute_time TIMESTAMP,
    degrade_flag SMALLINT,
    leaf_off_flag SMALLINT,
    water_persistence SMALLINT,
    modis_nonvegetated FLOAT,
    modis_treecover FLOAT,
    sensitivity_a0 FLOAT,
    sensitivity_a1 FLOAT,
    sensitivity_a2 FLOAT,
    sensitivity_a3 FLOAT,
    sensitivity_a4 FLOAT,
    sensitivity_a5 FLOAT,
    sensitivity_a6 FLOAT,
    sensitivity_a10 FLOAT,
    solar_elevation FLOAT,
    solar_azimuth FLOAT,
    energy_total FLOAT,
    elevation_difference_tdx FLOAT,
    selected_algorithm SMALLINT,
    pft_class SMALLINT,
    region_class SMALLINT,
    urban_proportion SMALLINT,
    landsat_water_persistence SMALLINT,
    quality_flag SMALLINT,
    l2a_quality_flag SMALLINT,
    l2_quality_flag SMALLINT,
    l2b_quality_flag SMALLINT,
    l4_quality_flag SMALLINT,
    l4_algorithm_run_flag SMALLINT,
    l4_predictor_limit_flag SMALLINT,
    l4_response_limit_flag SMALLINT,
    stale_return_flag SMALLINT,
    dem_tandemx FLOAT,
    dem_srtm FLOAT,
    algorithmrun_flag SMALLINT,
    surface_flag SMALLINT,
    algorithm_run_flag SMALLINT,
    selected_l2a_algorithm SMALLINT,
    selected_rg_algorithm SMALLINT,
    selected_mode SMALLINT,
    dz FLOAT,
    digital_elevation_model_srtm FLOAT,
    waveform_count SMALLINT,
    waveform_start INT,
    sensitivity FLOAT,
    lon_lowestmode FLOAT,
    longitude_bin0 FLOAT,
    longitude_bin0_error FLOAT,
    lat_lowestmode FLOAT,
    latitude_bin0 FLOAT,
    latitude_bin0_error FLOAT,
    elev_lowestmode FLOAT,
    elevation_bin0 FLOAT,
    elevation_bin0_error FLOAT,
    lon_highestreturn FLOAT,
    lat_highestreturn FLOAT,
    elev_highestreturn FLOAT,
    predictor_limit_flag SMALLINT,
    response_limit_flag SMALLINT,
    digital_elevation_model FLOAT,
    agbd_t_se FLOAT,
    leaf_on_doy SMALLINT,
    leaf_on_cycle SMALLINT,
    rh FLOAT[],
    rh100 SMALLINT,
    cover FLOAT,
    cover_z FLOAT[],
    fhd_normal FLOAT,
    num_detectedmodes SMALLINT,
    omega FLOAT,
    pai FLOAT,
    pai_z FLOAT[],
    pavd_z FLOAT[],
    pgap_theta FLOAT,
    pgap_theta_error FLOAT,
    rg FLOAT,
    rhog FLOAT,
    rhog_error FLOAT,
    rhov FLOAT,
    rhov_error FLOAT,
    rossg FLOAT,
    rv FLOAT,
    rx_range_highestreturn FLOAT,
    agbd FLOAT,
    agbd_pi_lower FLOAT,
    agbd_pi_upper FLOAT,
    agbd_se FLOAT,
    agbd_t FLOAT,
    wsci FLOAT,
    wsci_pi_lower FLOAT,
    wsci_pi_upper FLOAT,
    geometry geometry(Point,4326)
);